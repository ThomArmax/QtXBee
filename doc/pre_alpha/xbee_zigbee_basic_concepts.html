<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- For Mobile Devices -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
        <meta name="generator" content="Doxygen 1.8.3.1"/>
        <script type="text/javascript" src="jquery-2.1.1.min.js"></script>
        <title>QtXBee: XBee and ZigBee basic concepts</title>
        <!--<link href="tabs.css" rel="stylesheet" type="text/css"/>-->
        <script type="text/javascript" src="dynsections.js"></script>
        <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
        <link href="bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
        <script src="bootstrap.min.js"></script>
        <script type="text/javascript" src="doxy-boot.js"></script>
    </head>
    <body>
        <nav class="navbar navbar-default" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand">QtXBee 0.1.pre-alpha</a>
                </div>
            </div>
        </nav>
        <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
            <div class="content" id="content">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-12 panel panel-default" style="padding-bottom: 15px;">
                            <div style="margin-bottom: 15px;">
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">XBee and ZigBee basic concepts </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This section covers basic concepts regarding the XBee radio modules. As XBee Gateway and related documentation refers to these concepts frequently, it is important to understand them.</p>
<p>Contents:</p>
<ul>
<li><a class="el" href="xbee_zigbee_basic_concepts.html#XBEE_CONCEPTS_MAIN_SECTION">XBee Concepts</a></li>
<li><a class="el" href="xbee_zigbee_basic_concepts.html#XBEE_CONCEPTS_RD_MODULES_SECTION">RF modules</a></li>
<li><a class="el" href="xbee_zigbee_basic_concepts.html#XBEE_CONCEPTS_XBEE_RF_MODULES_SECTION">XBee RF modules</a></li>
<li><a class="el" href="xbee_zigbee_basic_concepts.html#XBEE_CONCEPTS_RADIO_FIRMWARE_SECTION">Radio firmware</a></li>
<li><a class="el" href="xbee_zigbee_basic_concepts.html#XBEE_CONCEPTS_RADIO_COMMUNICATION_PROTOCOLS_SECTION">Radio communication protocols</a></li>
<li><a class="el" href="xbee_zigbee_basic_concepts.html#XBEE_CONCEPTS_RADIO_OPERATING_MODES_SECTION">Radio module operating modes</a></li>
<li><a class="el" href="xbee_zigbee_basic_concepts.html#XBEE_CONCEPTS_TRANSPARENT_MODE_SECTION">Application Transparent (AT) operating mode</a></li>
<li><a class="el" href="xbee_zigbee_basic_concepts.html#XBEE_CONCEPTS_AT_COMMAND_MODE_SECTION">AT Command mode</a></li>
<li><a class="el" href="xbee_zigbee_basic_concepts.html#XBEE_CONCEPTS_API_OPERATING_MODE_SECTION">API operating mode</a></li>
<li><a class="el" href="xbee_zigbee_basic_concepts.html#XBEE_CONCEPTS_API_ESCAPED_OPERATING_MODE_SECTION">API escaped operating mode</a></li>
<li><a class="el" href="xbee_zigbee_basic_concepts.html#XBEE_CONCEPTS_ESCAPE_CARACTERS_SECTION">Escape character</a></li>
<li><a class="el" href="xbee_zigbee_basic_concepts.html#XBEE_CONCEPTS_API_FRAMES_SECTION">API frames</a></li>
<li><a class="el" href="xbee_zigbee_basic_concepts.html#XBEE_CONCEPTS_AT_SETTINGS_OR_CMDS_SECTION">AT settings or commands</a></li>
<li><a class="el" href="xbee_zigbee_basic_concepts.html#XBEE_CONCEPTS_ZIGBEE_PROTO_CONCEPTS_SECTION">ZigBee protocol concepts</a></li>
<li><a class="el" href="xbee_zigbee_basic_concepts.html#XBEE_CONCEPTS_ZIGBEE_NODES_SECTION">ZigBee nodes</a></li>
<li><a class="el" href="xbee_zigbee_basic_concepts.html#XBEE_CONCEPTS_ZIGBEE_NODES_COORDINATORS_SECTION">Coordinators</a></li>
<li><a class="el" href="xbee_zigbee_basic_concepts.html#XBEE_CONCEPTS_ZIGBEE_NODES_ROUTERS_SECTION">Routers</a></li>
<li><a class="el" href="xbee_zigbee_basic_concepts.html#XBEE_CONCEPTS_ZIGBEE_NODES_END_DEVICES_SECTION">End devices</a></li>
<li><a class="el" href="xbee_zigbee_basic_concepts.html#XBEE_CONCEPTS_ZIGBEE_NODES_EXAMPLE_SECTION">Example ZigBee nodes</a></li>
<li><a class="el" href="xbee_zigbee_basic_concepts.html#XBEE_CONCEPTS_CREATING_JOINING_NETWORK_SECTION">Creating and joining ZigBee networks</a></li>
<li><a class="el" href="xbee_zigbee_basic_concepts.html#XBEE_CONCEPTS_PAND_ID_SECTION">PAN ID</a></li>
<li><a class="el" href="xbee_zigbee_basic_concepts.html#XBEE_CONCEPTS_CHANNEL_SECTION">Channel</a></li>
<li><a class="el" href="xbee_zigbee_basic_concepts.html#XBEE_CONCEPTS_CREATE_NETWORK_SECTION">Create a ZigBee Network</a></li>
<li><a class="el" href="xbee_zigbee_basic_concepts.html#XBEE_CONCEPTS_USING_A_CUSTOM_PAN_ID_SECTION">Using a custom PAN ID</a></li>
<li><a class="el" href="xbee_zigbee_basic_concepts.html#XBEE_CONCEPTS_CONFIGURE_THE_XBEE_GATAWAY_WITH_A_CUSTOM_PAN_ID_SECTION">Configure the XBee Gateway with a custom PAN ID</a></li>
<li><a class="el" href="xbee_zigbee_basic_concepts.html#XBEE_CONCEPTS_CONFIGURE_OTHER_ZIGBEE_NODES_WITH_A_CUSTOM_PAN_ID_SECTION">Configure other ZigBee nodes with a custom PAN ID</a></li>
<li><a class="el" href="xbee_zigbee_basic_concepts.html#XBEE_CONCEPTS_JOIN_AN_EXISTING_ZIGBEE_NETWORK_SECTION">Join an existing ZigBee network</a></li>
</ul>
<h1><a class="anchor" id="XBEE_CONCEPTS_MAIN_SECTION"></a>
XBee Concepts</h1>
<p>Following are key concepts for XBee devices.</p>
<h2><a class="anchor" id="XBEE_CONCEPTS_RD_MODULES_SECTION"></a>
RF modules</h2>
<p>A radio frequency (RF) module is a small electronic circuit used to transmit and receive radio signals on different frequencies. Digi produces a wide variety of RF modules to meet the requirements of almost any wireless solution, such as long-range, low-cost, etc. The most popular wireless products are the XBee RF modules.</p>
<h2><a class="anchor" id="XBEE_CONCEPTS_XBEE_RF_MODULES_SECTION"></a>
XBee RF modules</h2>
<p>XBee is the brand name of a family of RF modules produced by Digi. XBee RF modules are modular products that make deploying wireless technology easy and cost-effective. Multiple protocols and RF features are available, giving customers enormous flexibility to choose the best technology for their needs.</p>
<p>The XBee RF modules are available in two form-factors: Through-Hole and Surface Mount, with different antenna options. Almost all modules are available in the Through-Hole form factor and share the same footprint. </p>
<div class="image">
<img src="xbee-modules.png" alt="xbee-modules.png"/>
</div>
<h2><a class="anchor" id="XBEE_CONCEPTS_RADIO_FIRMWARE_SECTION"></a>
Radio firmware</h2>
<p>Radio firmware is the program code stored in the radio module's persistent memory that provides the control program for the device. From the local WEB interface of the XBee Gateway, you can update or change the firmware of the local XBee module or any other module connected to the same network as the local one. This is a common task when changing the role of the device or use the latest version of a firmware.</p>
<h2><a class="anchor" id="XBEE_CONCEPTS_RADIO_COMMUNICATION_PROTOCOLS_SECTION"></a>
Radio communication protocols</h2>
<p>A radio communication protocol is a set of rules for data exchange between radio devices. Depending on the hardware radio firmware on an XBee module, the XBee modules support a specific radio communication protocol. Following is the complete list of protocols supported by the XBee radio modules:</p>
<ul>
<li>IEEE 802.15.4</li>
<li>ZigBee</li>
<li>ZigBee Smart Energy</li>
<li>DigiMesh (Digi’s proprietary)</li>
<li>ZNet</li>
<li>IEEE 802.11 (Wi-Fi)</li>
<li>Point-to-multipoint (Digi’s proprietary)</li>
<li>XSC (XStream Compatibility)</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>all the XBee devices can run all these communication protocols. The combination of XBee hardware and radio firmware determines the protocol that an XBee device can execute. Refer to the <a href="http://www.digi.com/pdf/chart_xbee_rf_features.pdf">XBee RF Family Comparison Matrix</a> for more information about the available XBee RF modules and the protocols they support.</dd></dl>
<h2><a class="anchor" id="XBEE_CONCEPTS_RADIO_OPERATING_MODES_SECTION"></a>
Radio module operating modes</h2>
<p>The operating mode of an XBee radio module establishes the way a user or any microcontroller attached to the XBee communicates with the module through the Universal Asynchronous Receiver/Transmitter (UART) or serial interface.</p>
<p>Depending on the firmware and its configuration, the radio modules can work in three different operating modes:</p>
<ul>
<li>AT (transparent) operating mode</li>
<li>API operating mode</li>
<li>API escaped operating mode</li>
</ul>
<p>In some cases, the operating mode of a radio module is established by the firmware version, which determines whether the operating mode is AT or API, and the AP setting of the firmware, which determines if the API mode is escaped (AP=2) or not (AP=1). In other cases, the operating mode is only determined by the AP setting, which allows you for configure the mode to be AT (AP=0), API (AP=1) or API escaped (AP=2).</p>
<h2><a class="anchor" id="XBEE_CONCEPTS_TRANSPARENT_MODE_SECTION"></a>
Application Transparent (AT) operating mode</h2>
<p>In Application Transparent (AT) or transparent operating mode, all serial data received by the radio module is queued up for RF transmission. When RF data is received by the module, the data is sent out though the serial interface.</p>
<p>To configure an XBee module operating in AT, put it in AT Command mode to send the configuration commands.</p>
<h3><a class="anchor" id="XBEE_CONCEPTS_AT_COMMAND_MODE_SECTION"></a>
AT Command mode</h3>
<p>When the radio module is working in AT operating mode, settings are configured using the AT Command mode interface. To enter AT command mode, you must send the 3-character command sequence through the serial interface of the radio module, usually <b>+++</b>, within one second. Once the AT command mode has been established, the module sends the reply <b>OK\r</b>, the command mode timer is started, and the radio module can receive AT commands.</p>
<p>The structure of an AT command follows:</p>
<p>AT[ASCII command][Space (optional)] [Parameter (optional)][Carriage return]</p>
<p>Example:</p>
<div class="fragment"><div class="line">ATNI MyDevice\r </div>
</div><!-- fragment --><p>If no valid AT commands are received within the command mode timeout, the radio module automatically exits AT Command mode. You can also exit command mode issuing the CN command (ATCN\r).</p>
<h3><a class="anchor" id="XBEE_CONCEPTS_API_OPERATING_MODE_SECTION"></a>
API operating mode</h3>
<p>Application Programming Interface (API) operation mode is an alternative to AT mode. This requires that communication with the module be done through a structured interface; in other words, data is communicated in API frames. For more information about API frames, see <a class="el" href="xbee_zigbee_basic_concepts.html#XBEE_CONCEPTS_API_FRAMES_SECTION">API frames</a>.</p>
<p>The API specifies how commands, command responses, and module status messages are sent and received from the module using the serial interface. API operation mode enables many operations such as the following:</p>
<ul>
<li>Configuration of the XBee module itself.</li>
<li>Configuration of remote modules in the network.</li>
<li>Data management and transmission to multiple destinations.</li>
<li>Receive success/failure status of each transmitted RF packet.</li>
<li>Identify the source address of each received packet.</li>
</ul>
<p>Depending on the AP parameter value, the radio module can operate in one of two modes: API (AP=1 ) or API escaped (AP=2) operating mode.</p>
<h3><a class="anchor" id="XBEE_CONCEPTS_API_ESCAPED_OPERATING_MODE_SECTION"></a>
API escaped operating mode</h3>
<p>API escaped operating mode (AP = 2) works similarly to API mode. The only difference is that when working in API escaped mode, some bytes of the API frame specific data must be escaped.</p>
<p>API escaped operating mode is used to add reliability to the RF transmission avoiding conflicts with special characters such as the start-of-frame byte (0x7E). Since 0x7E can only appear at the start of an API packet, if 0x7E is received at any time, it can be assumed that a new packet has started regardless of length. In API escaped mode, those special bytes are escaped.</p>
<h3><a class="anchor" id="XBEE_CONCEPTS_ESCAPE_CARACTERS_SECTION"></a>
Escape character</h3>
<p>When sending or receiving an API frame in API escaped mode, specific data values must be escaped (flagged) so they do not interfere with the data frame sequence. To escape a data byte, insert 0x7D and follow it with the byte to be escaped XOR'd with 0x20. The data bytes that need to be escaped are as follows:</p>
<ul>
<li>0x7E: Frame Delimiter</li>
<li>0x7D: Escape</li>
<li>0x11: XON</li>
<li>0x13: XOFF</li>
</ul>
<h2><a class="anchor" id="XBEE_CONCEPTS_API_FRAMES_SECTION"></a>
API frames</h2>
<p>An API frame is the structured data sent and received through the serial interface of the radio module when it is configured in API or API escaped operating modes. API frames are used to communicate with the module or with other modules in the network.</p>
<p>An API frame has the following structure: </p>
<div class="image">
<img src="api-frame.png" alt="api-frame.png"/>
</div>
<p> Where:</p>
<ul>
<li>Start delimiter: This field is always 0x7E</li>
<li>Length: The length field has a two-byte value that specifies the number of bytes that will be contained in the frame data field. It does not include the checksum field.</li>
<li>Frame Data: The content of this field is composed by the API identifier and the API identifier specific data. Depending on the API identifier (also called API frame type), the content of the specific data will change. <dl class="section note"><dt>Note</dt><dd>There are many API frame types or identifiers. The XCTU application includes an embedded tool called Frames Generator that helps you to build and fill any type of API frame. If you do not have XCTU installed, go to <a href="http://www.digi.com/xctu">http://www.digi.com/xctu</a> to download and install it.</dd></dl>
</li>
<li>Checksum: Byte containing the hash sum of the API frame bytes.</li>
</ul>
<p>In API escaped mode, there may be some bytes in the Length, Frame Data and Checksum fields that need to be escaped. </p>
<div class="image">
<img src="api-frame-escape-mode.png" alt="api-frame-escape-mode.png"/>
</div>
<h2><a class="anchor" id="XBEE_CONCEPTS_AT_SETTINGS_OR_CMDS_SECTION"></a>
AT settings or commands</h2>
<p>The firmware running in the XBee RF modules contains a set of settings and commands that can be configured to change the behavior of the module or to perform any action related with it. Depending on the protocol, the number of settings and their meanings varies, but all the XBee RF modules can be configured with AT commands.</p>
<p>All the firmware settings or commands are identified with two ASCII characters and some applications and documents refer to them as AT settings or AT commands.</p>
<p>The configuration process of these AT settings varies depending on the operating mode of the XBee RF module.</p>
<ul>
<li>AT operating mode. In this mode, you must put the module in a special mode called AT Command mode, so it can receive AT commands. For more information about configuring XBee RF modules in AT operating mode, see <a class="el" href="xbee_zigbee_basic_concepts.html#XBEE_CONCEPTS_AT_COMMAND_MODE_SECTION">AT Command mode</a>.</li>
<li>API operating mode. To configure or execute AT commands when the XBee RF module operates in API mode, must generate an AT Command API frame containing the AT setting identifier and the value of that setting and send it to the XBee RF module. For more information about API frames, see <a class="el" href="xbee_zigbee_basic_concepts.html#XBEE_CONCEPTS_API_FRAMES_SECTION">API frames</a>.</li>
</ul>
<h1><a class="anchor" id="XBEE_CONCEPTS_ZIGBEE_PROTO_CONCEPTS_SECTION"></a>
ZigBee protocol concepts</h1>
<p>ZigBee is a wireless mesh network protocol for low-power digital radio modules. The ZigBee protocol defines a network layer above the 802.15.4 layers to support advanced mesh routing capabilities. It allows for creating and organizing the network hierarchy providing some extra communication features such as encryption and authentication. Through the mesh and routing capabilities, ZigBee allows the transmission of data over long distances by passing the data through intermediate nodes to more distant ones. Features of the ZigBee protocol include:</p>
<ul>
<li>Support for multiple network topologies such as point-to-point, point-to-multipoint and mesh networks.</li>
<li>Low duty cycle, which promotes long battery life.</li>
<li>Low latency.</li>
<li>Direct Sequence Spread Spectrum (DSSS).</li>
<li>Up to 65,000 nodes per network.</li>
<li>128-bit AES encryption for secure data connections.</li>
<li>Collision avoidance, retries and acknowledgements.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>This documentation does not cover the ZigBee protocol in detail. For more information about the ZigBee protocol, see the <a href="http://www.zigbee.org/Specifications/ZigBee/Overview.aspx">ZigBee Specification Overview</a> on the ZigBee Alliance websitepage for an in-depth explanation.</dd></dl>
<h2><a class="anchor" id="XBEE_CONCEPTS_ZIGBEE_NODES_SECTION"></a>
ZigBee nodes</h2>
<p>The ZigBee protocol defines three types of nodes: <b>Coordinators</b>, <b>Routers</b>, and <b>End Devices</b>, with a requirement of <b>one Coordinator per network</b>. While all nodes can send and receive data, there are differences in the specific roles they play. </p>
<h3><a class="anchor" id="XBEE_CONCEPTS_ZIGBEE_NODES_COORDINATORS_SECTION"></a>
Coordinators</h3>
<p>Coordinators are the most capable of the three node types. There is exactly one coordinator in each network and it is the device that establishes the network originally. A coordinator store information about the network, including security keys, but it cannot be battery-powered (that is, it cannot sleep) because it must store the packets for end device nodes. </p>
<h3><a class="anchor" id="XBEE_CONCEPTS_ZIGBEE_NODES_ROUTERS_SECTION"></a>
Routers</h3>
<p>Routers act as intermediate nodes, relaying data from other devices. Routers can connect to other devices and with the coordinator, but, as with the coordinator, they cannot sleep because they must store the packets for end devices. Routers are commonly used to extend the network. </p>
<h3><a class="anchor" id="XBEE_CONCEPTS_ZIGBEE_NODES_END_DEVICES_SECTION"></a>
End devices</h3>
<p>End Devices, usually sensors, can be low-power / battery-powered devices. They have sufficient functionality to talk to their parent devices, either the coordinator or a router, and cannot relay data from other devices. This reduced functionality allows for the potential to reduce cost. </p>
<h3><a class="anchor" id="XBEE_CONCEPTS_ZIGBEE_NODES_EXAMPLE_SECTION"></a>
Example ZigBee nodes</h3>
<p>The following figure displays a topology example of a ZigBee network. </p>
<div class="image">
<img src="zigbee-network-topology.png" alt="zigbee-network-topology.png"/>
</div>
<h2><a class="anchor" id="XBEE_CONCEPTS_CREATING_JOINING_NETWORK_SECTION"></a>
Creating and joining ZigBee networks</h2>
<p>ZigBee networks are called <b>Personal Area Networks</b> or <b>PANs</b>. In the ZigBee protocol, the only node that can start a new network is the coordinator. For that reason, each ZigBee network must have one coordinator.</p>
<p>To start a network, the coordinator must automatically choose a PAN identifier (<b>PAN ID</b>) and the operating <b>channel</b> for that network. Once those parameters are established and the network is initialized, the coordinator and routers can allow other devices (other routers or end devices) to join the network and can route data.</p>
<h3><a class="anchor" id="XBEE_CONCEPTS_PAND_ID_SECTION"></a>
PAN ID</h3>
<p>Each network is defined with a unique PAN identifier (<b>PAN ID</b>). This identifier is common among all devices of the same network. This is, devices on the same ZigBee network must share the same PAN ID in order to communicate each other. This PAN ID is established by the coordinator when it is creating the new network. When the coordinator is powered on, it automatically selects a PAN ID or uses a pre-configured one to identify the network that it will start.</p>
<p>If a coordinator is configured with PAN ID <b>0</b>, it performs a PAN scan to identify nearby ZigBee networks and uses a random unused PAN ID to start the new network.</p>
<p>If a router or end device is configured with PAN ID <b>0</b>, it performs a PAN scan and tries to join to the first ZigBee network it finds.</p>
<h3><a class="anchor" id="XBEE_CONCEPTS_CHANNEL_SECTION"></a>
Channel</h3>
<p>The 802.15.4 PHY (physical layer) protocol description defines 16 operating channels in the 2.4 GHz frequency band. Before starting the network, the coordinator automatically performs a channel scan to select a good channel to use for the network.</p>
<p>All the ZigBee nodes in a network can be configured with the channel or channels on which they operate.</p>
<h3><a class="anchor" id="XBEE_CONCEPTS_CREATE_NETWORK_SECTION"></a>
Create a ZigBee Network</h3>
<p>As explained previously, to create a ZigBee network you need a coordinator, which is the node type that starts the network itself. The XBee Gateway includes a built-in XBee ZB node already configured as coordinator. Therefore, as soon as you power on the XBee Gateway ZB device, your ZigBee network is initialized.</p>
<p>By default, the ZigBee coordinator in the XBee Gateway ZB device is configured with a PAN ID 0. That setting means that the coordinator selects a random, unused PAN ID for the network. The XBee Gateway also is configured to use any of the 16 channels, so the coordinator can perform a channel scan and choose the best one for the network.</p>
<p>The XBee Gateway Cloud Kit also includes an XBee ZB module configured as router node. This means that you should be able to connect the XBee ZB module to the network initialized by the XBee Gateway. By default, the PAN ID of this ZigBee module is configured to 0. Therefore, if you power on the XBee ZB module and there is not any other ZigBee network around, the module should join the ZigBee network initialized by the XBee Gateway automatically. This joining operation is indicated when the Association LED of the board on which the XBee ZB module is mounted starts blinking.</p>
<p>To verify that your XBee ZB module has successfully joined the ZigBee network started by the XBee Gateway ZB device, follow these steps:</p>
<ul>
<li>Make sure the XBee Gateway is powered on. Make sure the XBee ZB node is mounted on the development board and that the development board is powered on.</li>
<li>In an Internet browser open the Home page of your XBee Gateway. In the list of links on the left side, under Configuration, click XBee Network. The XBee Configuration page is displayed.</li>
<li>Just below the Remote XBee Devices table, check the Clear list before discovery option and click the Discover XBee Devices button. <div class="image">
<img src="XBee-configuration.png" alt="XBee-configuration.png"/>
</div>
</li>
<li>After some seconds the table should display your XBee ZB node. <div class="image">
<img src="remote-xbee-devices.png" alt="remote-xbee-devices.png"/>
</div>
</li>
</ul>
<h3><a class="anchor" id="XBEE_CONCEPTS_USING_A_CUSTOM_PAN_ID_SECTION"></a>
Using a custom PAN ID</h3>
<p>In some cases, you want to have control over the PAN ID used to create your ZigBee network. Having this control is useful when there are some other networks around and you do not want your router or end device nodes to join them. In such cases, you need to specify a custom PAN ID and configure the coordinator, routers and end devices to use it.</p>
<h3><a class="anchor" id="XBEE_CONCEPTS_CONFIGURE_THE_XBEE_GATAWAY_WITH_A_CUSTOM_PAN_ID_SECTION"></a>
Configure the XBee Gateway with a custom PAN ID</h3>
<p>The first device to configure with a custom PAN ID is the coordinator, which in this case is the XBee Gateway. Follow these steps to change the PAN ID of your XBee Gateway:</p>
<ul>
<li>In an Internet browser, open the Home page of your XBee Gateway ZB and go to the XBee Network section from the left menu.</li>
<li>Select the XBee Gateway local XBee device to configure it.</li>
<li>In the XBee Configuration page, open the Network Settings section. There, configure the Extended PAN ID (ID) option with your custom PAN ID value. Remember this value, as you will configure the other ZigBee nodes of the network with the same one. <div class="image">
<img src="xbee-network-extended-pan-id.png" alt="xbee-network-extended-pan-id.png"/>
</div>
</li>
<li>Click Apply to save the changes in the device.</li>
</ul>
<p>After applying the changes, the coordinator initializes the ZigBee network with the new PAN ID. If you had any other ZigBee nodes connected to the network, you must update their PAN IDs so they will join the new one.</p>
<h3><a class="anchor" id="XBEE_CONCEPTS_CONFIGURE_OTHER_ZIGBEE_NODES_WITH_A_CUSTOM_PAN_ID_SECTION"></a>
Configure other ZigBee nodes with a custom PAN ID</h3>
<p>If you want your ZigBee routers or end devices to connect to a ZigBee network with a specific PAN ID, you must configure them to update the PAN ID they have configured with the new one. As they are not joined to the network that your XBee Gateway (coordinator) initialized, you cannot configure them using the XBee Gateway ZB web interface. In this case, you must use the XCTU software.</p>
<p>If you do not have XCTU installed, go to <a href="http://www.digi.com/xctu">http://www.digi.com/xctu</a> to download and install it.</p>
<p>Once you have XCTU installed, follow these steps to change the PAN ID of an XBee ZB module, that is, the module that comes with the XBee Gateway ZB Cloud Kit:</p>
<ul>
<li>Attach the XBee ZB node to the XBee development board included in the kit, and connect it to your PC using a USB cable.</li>
<li>Open XCTU and add the XBee node you have just connected to your PC to the list of radio modules. <div class="image">
<img src="xctu-add-node.png" alt="xctu-add-node.png"/>
</div>
</li>
<li>Select the node and wait for the application to read all its settings.</li>
<li>At the right side of the XCTU display, under the Networking category, there should be a setting called ID PAN ID. In this setting, replace the current PAN ID with your custom PAN ID. <div class="image">
<img src="xctu-firmware-info.png" alt="xctu-firmware-info.png"/>
</div>
</li>
<li>Once you have changed the setting, click the Write radio settings button to save the new PAN ID in the XBee module.</li>
</ul>
<p>As soon as you save the new PAN ID in the XBee RF module, the module tries to connect to the ZigBee network that has the PAN ID that you configured.</p>
<h3><a class="anchor" id="XBEE_CONCEPTS_JOIN_AN_EXISTING_ZIGBEE_NETWORK_SECTION"></a>
Join an existing ZigBee network</h3>
<p>Although it is not a very common task, you can configure your XBee Gateway device to operate as a router and join an existing network. To do so, follow these steps:</p>
<ul>
<li>In an Internet browser, open the Home page of your XBee Gatewayand go to the XBee Network section from the left menu.</li>
<li>Select the XBee Gateway ZB local XBee device to configure it.</li>
<li>In the XBee Configuration page, open the Network Settings section. There, configure the Extended PAN ID (ID) option with the PAN ID of the network to which the XBee Gateway should join. <div class="image">
<img src="xbee-network-extended-pan-id-join.png" alt="xbee-network-extended-pan-id-join.png"/>
</div>
</li>
<li>In the same page, uncheck the setting Coordinator Enable (CE). This causes the XBee Gateway to behave as a router node within the ZigBee network. <div class="image">
<img src="xbee-network-coordinator-enable-join.png" alt="xbee-network-coordinator-enable-join.png"/>
</div>
</li>
<li>Click Apply to save the changes in the device.</li>
</ul>
<p>After applying the changes, the XBee Gateway behaves as a router node and tries to connect to the ZigBee network with the PAN ID that you configured.</p>
<p>To join your XBee ZB module from the kit to an existing network, you should follow the same steps described in the <a class="el" href="xbee_zigbee_basic_concepts.html#XBEE_CONCEPTS_CONFIGURE_OTHER_ZIGBEE_NODES_WITH_A_CUSTOM_PAN_ID_SECTION">Configure other ZigBee nodes with a custom PAN ID</a> section.</p>
<p><b>Source : </b><a href="http://ftp1.digi.com/support/documentation/html/90001399/90001399_A/Files/XBee-concepts.html">XBee™ Gateway User's Guide</a> </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>
Generated on Sun Apr 26 2015 21:59:35 for QtXBee by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
